{% extends 'base.html' %}
{% load static i18n bulma_tags %}

{% block content %}
    <div class="media">
        <div class="media-left">
            <figure class="image is-48x48">
                <img src="{{ issue.contributor.profile_pic.url }}" alt="profile picture">
            </figure>
        </div>
        <div class="media-content">
            <p class="title is-4">{{ issue.contributor.username }}</p>
        </div>
    </div>
    <div class="content">
        <h2 class="is-size-3">{{ issue.question|linebreaksbr|urlize }}</h2>
        <p>{{ issue.situation|linebreaksbr|urlize }}</p>
        {# 同じネイティブがいいか判定 全員観れるがネイティブしか押せない　#}
        {#        <a class="icon"><i class="fas fa-fw fa-thumbs-up"></i></a><span>0</span>#}
        {#        <a class="icon"><i class="fas fa-fw fa-flip-vertical fa-thumbs-up"></i></a><span>0</span>#}
        {# 質問者が助かったか判定 全員観れるが投稿者しか押せない#}
        {#        <a class="icon"><i class="fas fa-fw fa-heart"></i></a>#}
        <small>
            <time datetime="{{ issue.created_at }}">{{ issue.created_at }}</time>
        </small>
    </div>
    {% for comment in comment_list %}
        <article class="media">
            <figure class="media-left">
                <p class="image is-64x64">
                    <img src="{{ comment.contributor.profile_pic.url }}" alt="contributor pic">
                </p>
            </figure>
            <div class="media-content">
                <div class="content">
                    <p>
                        {{ comment.text }}
                        <br>
                        <small><a>Like</a> · <a>Reply</a> · 3 hrs</small>
                    </p>
                </div>
                {#                <article class="media">#}
                {#                    <figure class="media-left">#}
                {#                        <p class="image is-48x48">#}
                {#                            <img src="https://bulma.io/images/placeholders/96x96.png">#}
                {#                        </p>#}
                {#                    </figure>#}
                {#                    <div class="media-content">#}
                {#                        <div class="content">#}
                {#                            <p>#}
                {#                                <strong>Sean Brown</strong>#}
                {#                                <br>#}
                {#                                Donec sollicitudin urna eget eros malesuada sagittis. Pellentesque habitant morbi#}
                {#                                tristique#}
                {#                                senectus et netus et malesuada fames ac turpis egestas. Aliquam blandit nisl a nulla#}
                {#                                sagittis, a lobortis leo feugiat.#}
                {#                                <br>#}
                {#                                <small><a>Like</a> · <a>Reply</a> · 2 hrs</small>#}
                {#                            </p>#}
                {#                        </div>#}
                {#                    </div>#}
                {#                </article>#}
            </div>
        </article>
    {% empty %}
        <p>No comments yet</p>
    {% endfor %}

    <form class="media" method="post" action="">
        {% csrf_token %}
        <figure class="media-left">
            <p class="image is-64x64">
                <img src="{{ user.profile_pic.url }}">
            </p>
        </figure>
        <div class="media-content">
            <div class="field">
                <p class="control">
                    <textarea class="textarea" placeholder="Add a comment..."></textarea>
                </p>
            </div>
            <div class="field">
                <p class="control">
                    <button class="button" type="submit">Post comment</button>
                </p>
            </div>
        </div>
    </form>
{% endblock %}